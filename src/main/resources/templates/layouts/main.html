<!DOCTYPE html>
<html lang="hu">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

	<!--===============================================================================================-->
		<link rel="stylesheet"
			href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.1/css/bootstrap.min.css"
			integrity="sha384-VCmXjywReHh4PwowAiWNagnWcLhlEJLA5buUprzK8rxFgeH0kww/aWY76TfkUoSX"
			crossorigin="anonymous">
	<!--===============================================================================================-->
		<link rel="stylesheet" type="text/css" href="css/mainPageStyle.css">
	<!--===============================================================================================-->
		<link rel="stylesheet" type="text/css" href="css/modalStyle.css">
	<!--===============================================================================================-->
		<link rel="stylesheet" type="text/css" href="css/bootstrap-datetimepicker.min.css">
	<!--===============================================================================================-->

		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
	<!--===============================================================================================-->

</head>
<body>

<div class="vertical-nav"  id="sidebar">
  <div class="py-4 px-3 mb-4 ">
    <div class="media d-flex align-items-center">
      <div class="media-body ">
             <h4 class="m-0 text-white font-weight-bold text-center">Üdvözöljük</h4>
      		 <h4 class="m-0 text-white font-weight-bold text-center" th:text="${#request.userPrincipal.principal.name}">Anonymous</h4> 
      		<!-- <p class="font-weight-light text-muted mb-0 text-center" sec:authentication="principal.authorities">asd</p>-->
      </div>
    </div>
</div>

<div class="card scroll scrollbar-style thin">
  <p class="text-gray font-weight-bold text-uppercase px-5 small pb-4 mb-0 ">Funkciók</p>
  <ul class="nav flex-column mb-0 ">
 	 <li class="nav-item" >
  		 <div class="dropdown-el  px-5">
    		<a  class="nav-link" type="radio" name="sortType" checked="checked" id="sort-relevance">
				<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-clipboard iconPosition" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
  					<path fill-rule="evenodd" d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
  					<path fill-rule="evenodd" d="M9.5 1h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
				</svg>
    			<span>Hibajegyek</span>
    		</a>

   		 <a  href="/listTicket" class="nav-link linkPosition" id="sort-best" >
			<svg width="0.3em" height="0.3em" viewBox="0 0 16 16" class="bi bi-circle-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
  				<circle cx="8" cy="8" r="8"/>
			</svg>
   			<span> Listázás	</span>
   		</a>

		 <a   href="/addTicket" class="nav-link linkPosition" id="sort-best" >
			<svg width="0.3em" height="0.3em" viewBox="0 0 16 16" class="bi bi-circle-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
  				<circle cx="8" cy="8" r="8"/>
			</svg>
   			<span> Felvitel	</span>
   		</a>
   
 	 </div>
    </li>

    <li class="nav-item">
    	<a href="/addClient" class="nav-link px-5">
			<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-person-plus" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
  				<path fill-rule="evenodd" d="M11 14s1 0 1-1-1-4-6-4-6 3-6 4 1 1 1 1h10zm-9.995-.944v-.002.002zM1.022 13h9.956a.274.274 0 0 0 .014-.002l.008-.002c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664a1.05 1.05 0 0 0 .022.004zm9.974.056v-.002.002zM6 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm4.5 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z"/>
 			    <path fill-rule="evenodd" d="M13 7.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0v-2z"/>
			</svg>
           <span>Ügyfél felvitel</span>     
         </a>
    </li>
  
  </ul>
  
    </br>
   	 <p class="text-gray font-weight-bold text-uppercase px-5 small pb-4 mb-0 ">Kimutatások</p>
	<br/>
	
 	<p class="text-gray font-weight-bold text-uppercase px-5 small pb-4 mb-0">Profil</p>
	<ul class="nav flex-column">
    	<li class="nav-item">
       		<a href="/settings" class="nav-link px-5">
				<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-gear" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
  					<path fill-rule="evenodd" d="M8.837 1.626c-.246-.835-1.428-.835-1.674 0l-.094.319A1.873 1.873 0 0 1 4.377 3.06l-.292-.16c-.764-.415-1.6.42-1.184 1.185l.159.292a1.873 1.873 0 0 1-1.115 2.692l-.319.094c-.835.246-.835 1.428 0 1.674l.319.094a1.873 1.873 0 0 1 1.115 2.693l-.16.291c-.415.764.42 1.6 1.185 1.184l.292-.159a1.873 1.873 0 0 1 2.692 1.116l.094.318c.246.835 1.428.835 1.674 0l.094-.319a1.873 1.873 0 0 1 2.693-1.115l.291.16c.764.415 1.6-.42 1.184-1.185l-.159-.291a1.873 1.873 0 0 1 1.116-2.693l.318-.094c.835-.246.835-1.428 0-1.674l-.319-.094a1.873 1.873 0 0 1-1.115-2.692l.16-.292c.415-.764-.42-1.6-1.185-1.184l-.291.159A1.873 1.873 0 0 1 8.93 1.945l-.094-.319zm-2.633-.283c.527-1.79 3.065-1.79 3.592 0l.094.319a.873.873 0 0 0 1.255.52l.292-.16c1.64-.892 3.434.901 2.54 2.541l-.159.292a.873.873 0 0 0 .52 1.255l.319.094c1.79.527 1.79 3.065 0 3.592l-.319.094a.873.873 0 0 0-.52 1.255l.16.292c.893 1.64-.902 3.434-2.541 2.54l-.292-.159a.873.873 0 0 0-1.255.52l-.094.319c-.527 1.79-3.065 1.79-3.592 0l-.094-.319a.873.873 0 0 0-1.255-.52l-.292.16c-1.64.893-3.433-.902-2.54-2.541l.159-.292a.873.873 0 0 0-.52-1.255l-.319-.094c-1.79-.527-1.79-3.065 0-3.592l.319-.094a.873.873 0 0 0 .52-1.255l-.16-.292c-.892-1.64.902-3.433 2.541-2.54l.292.159a.873.873 0 0 0 1.255-.52l.094-.319z"/>
  					<path fill-rule="evenodd" d="M8 5.754a2.246 2.246 0 1 0 0 4.492 2.246 2.246 0 0 0 0-4.492zM4.754 8a3.246 3.246 0 1 1 6.492 0 3.246 3.246 0 0 1-6.492 0z"/>
				</svg>
           		<span>Beállítások</span>     
            </a>
         </li> 

         <li class="nav-item">
     		 <form sec:authorize="isAuthenticated()" id="frmlogout" th:action="@{/logout}" method="post" class="form-inline">
     			 <a class="nav-link px-5"  href="javascript:{}" onclick="document.getElementById('frmlogout').submit(); return false;">
              		 <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-box-arrow-in-right" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
 						 <path fill-rule="evenodd" d="M8.146 11.354a.5.5 0 0 1 0-.708L10.793 8 8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0z"/>
						 <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 1 8z"/>
						 <path fill-rule="evenodd" d="M13.5 14.5A1.5 1.5 0 0 0 15 13V3a1.5 1.5 0 0 0-1.5-1.5h-8A1.5 1.5 0 0 0 4 3v1.5a.5.5 0 0 0 1 0V3a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v10a.5.5 0 0 1-.5.5h-8A.5.5 0 0 1 5 13v-1.5a.5.5 0 0 0-1 0V13a1.5 1.5 0 0 0 1.5 1.5h8z"/>
					 </svg>
          			 <span>Kijelentkezés</span>     
                  </a>
            </form>
   		  </li>
	</ul>
</div>
</div>

<div class="toggle p-0" id="content">
    <button id="sidebarCollapse" type="button" class="btn btn-light bg-white rounded-circle shadow-sm ">
  		<img src="images/icons/justify.svg" class="menu" >
    </button> 
</div>

<div layout:fragment="content"></div>


	<!-- Uzenetek a user fele -->
	<div th:if="${param.updatedUserPasswordSuccess}"
		id="updatedUserPasswordSuccess" class="modal fade">
		<div class="modal-dialog modal-confirm">
			<div class="modal-content">
				<div class="modal-header">
					<img class="icon img-fluid rounded mx-auto d-block"
						src="images/icons/check2-circle.svg">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
				</div>
				<div class="modal-body text-center">
					<h4>Siker!</h4>
					<p>A jelszava megváltozott!</p>
					<button type="button" class="btn btn-secondary"
						data-dismiss="modal">Bezár</button>
				</div>
			</div>
		</div>
	</div>

	<div th:if="${param.updateUserNameSuccess}" id="updateUserNameSuccess"
		class="modal fade">
		<div class="modal-dialog modal-confirm">
			<div class="modal-content">
				<div class="modal-header">
					<img class="icon img-fluid rounded mx-auto d-block"
						src="images/icons/check2-circle.svg">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
				</div>
				<div class="modal-body text-center">
					<h4>Siker!</h4>
					<p>A felhasználó neve módosításra került!</p>
					<button type="button" class="btn btn-secondary"
						data-dismiss="modal">Bezár</button>
				</div>
			</div>
		</div>
	</div>

	<div th:if="${param.clientAddSuccess}" id="clientAddSuccess"
		class="modal fade">
		<div class="modal-dialog modal-confirm">
			<div class="modal-content">
				<div class="modal-header">
					<img class="icon img-fluid rounded mx-auto d-block"
						src="images/icons/check2-circle.svg">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
				</div>
				<div class="modal-body text-center">
					<h4>Siker!</h4>
					<p>Az ügyfél rögzítésre került.</p>
					<button type="button" class="btn btn-secondary"
						data-dismiss="modal">Bezár</button>
				</div>
			</div>
		</div>
	</div>

	<div th:if="${param.ticketAddSuccess}" id="ticketAddSuccess"
		class="modal fade">
		<div class="modal-dialog modal-confirm">
			<div class="modal-content">
				<div class="modal-header">
					<img class="icon img-fluid rounded mx-auto d-block"
						src="images/icons/check2-circle.svg">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
				</div>
				<div class="modal-body text-center">
					<h4>Siker!</h4>
					<p>A hibajegy rögzítésre került!</p>
					<button type="button" class="btn btn-secondary"
						data-dismiss="modal">Bezár</button>
				</div>
			</div>
		</div>
	</div>

	<div th:if="${param.updateError}" id="updateError" class="modal fade">
		<div class="modal-dialog modal-confirm">
			<div class="modal-content">
				<div class="modal-header bg-danger">
					<img class="icon img-fluid rounded mx-auto d-block"
						src="images/icons/alert.svg">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
				</div>
				<div class="modal-body text-center">
					<h4>Hiba!</h4>
					<p>Nem sikerült módosítani az adatokon! Lehet, hogy nem töltött
						ki minden mezőt.</p>
					<button type="button" class="btn btn-secondary"
						data-dismiss="modal">Bezár</button>
				</div>
			</div>
		</div>
	</div>

	<div th:if="${param.ticketUpdateSuccess}" id="ticketUpdateSuccess"
		class="modal fade">
		<div class="modal-dialog modal-confirm">
			<div class="modal-content">
				<div class="modal-header">
					<img class="icon img-fluid rounded mx-auto d-block"
						src="images/icons/check2-circle.svg">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
				</div>
				<div class="modal-body text-center">
					<h4>Siker!</h4>
					<p>A hibajegy módosításra került.</p>
					<button type="button" class="btn btn-secondary"
						data-dismiss="modal">Bezár</button>
				</div>
			</div>
		</div>
	</div>

	<div th:if="${param.ticketDeleteSuccess}" id="ticketDeleteSuccess"
		class="modal fade">
		<div class="modal-dialog modal-confirm">
			<div class="modal-content">
				<div class="modal-header">
					<img class="icon img-fluid rounded mx-auto d-block"
						src="images/icons/check2-circle.svg">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
				</div>
				<div class="modal-body text-center">
					<h4>Siker!</h4>
					<p>A hibajegy törlésre került.</p>
					<button type="button" class="btn btn-secondary"
						data-dismiss="modal">Bezár</button>
				</div>
			</div>
		</div>
	</div>

	<!--===============================================================================================-->
		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
			integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
			crossorigin="anonymous"></script>
	<!--===============================================================================================-->
		<script
			src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
			integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
			crossorigin="anonymous"></script>
	<!--===============================================================================================-->
		<script
			src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.1/js/bootstrap.min.js"
			integrity="sha384-XEerZL0cuoUbHE4nZReLT7nx9gQrQreJekYhJD9WNWhH8nEW+0c5qq7aIo2Wl30J"
			crossorigin="anonymous"></script>
	<!--===============================================================================================-->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js">
		</script>
	<!--===============================================================================================-->
		<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js">
		</script>
	<!--===============================================================================================-->
		<script  src="js/bootstrap-datetimepicker.min.js"></script>
	<!--===============================================================================================-->
		<script src= "//cdn.rawgit.com/rainabba/jquery-table2excel/1.1.0/dist/jquery.table2excel.min.js">
		</script> 		
	<!--===============================================================================================-->
		<script  src="js/short-table.js"></script> 
	<!--===============================================================================================-->
		 <script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.21/datatables.min.js">
		 	var $ = require( 'jquery' );
			require( 'datatables.net-bs4' )( $ );
		 </script> 
	<!--===============================================================================================-->
		 <script  src="js/dataTables.bootstrap4.js"></script>
	<!--===============================================================================================-->
		 <script  src="js/dataTables.bootstrap4.min.js"></script>
	<!--===============================================================================================-->
		 <script type="text/javascript">
				$(document).ready(function() {
			        $('#example').dataTable( {
			        	 language: {
			        	        search: "Keresés:",
			        	        infoEmpty: "Nulla találat",
			        	        info: "Találatok: _START_ - _END_ Összesen: _TOTAL_",
			        	        lengthMenu:    "_MENU_ találat oldalanként",
			        	        zeroRecords:    "Nincs a keresésnek megfelelő találat",
			        	        infoFiltered:"(_MAX_ összes rekord közül szűrve)",
			        	        paginate: {
			        	            first:      "Premier",
			        	            previous:   "Előző",
			        	            next:       "Következő",
			        	            last:       "Dernier"
			        	        },
			        	    }
			        } );
			    } );
		  </script>
	<!--===============================================================================================-->
		  <script>
				$(function() {
					  $('#sidebarCollapse').on('click', function() {
					    $('#sidebar, #content').toggleClass('active');
					  });
					});
			
				$('.dropdown-el').click(function(e) {
					  e.stopPropagation();
					  $(this).toggleClass('expanded');
					  $('#'+$(e.target).attr('for')).prop('checked',true);
					});
					$(document).click(function() {
					  $('.dropdown-el').removeClass('expanded');
					}); 
					
					$(document).ready(function(){
						$("#updateUserNameSuccess").modal('show');
						$("#updatedUserPasswordSuccess").modal('show');
						$("#clientAddSuccess").modal('show');
						$("#ticketAddSuccess").modal('show');
						$("#updateError").modal('show');
						$("#ticketUpdateSuccess").modal('show');
						$("#ticketDeleteSuccess").modal('show');
					});
		 </script>
	<!--===============================================================================================-->
		 <script>
			$("#export").click(function(){
				  $("#exportToExcel").table2excel({
				    exclude: ".noExl",
				    name: "Worksheet Name",
				    filename: "Hibajegyek", 
				    fileext: ".xls"
				  }); 
				});
		</script>
	<!--===============================================================================================-->
	    <script>	
			$('.dateInput').each(function(){
				$(this).datetimepicker({
			    	"allowInputToggle": true,
					 "showClose": true,
					 "showClear": true,
					 "showTodayButton": true,
					 "format": "YYYY-MM-DD",    
				}) 
			  });
		 </script>	
	<!--===============================================================================================-->
	
</body>
</html>
